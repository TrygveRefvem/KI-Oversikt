{"ast":null,"code":"var _jsxFileName = \"/Users/trygverefvem/kioversikt/frontend/src/components/BusinessCanvas.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport BusinessCanvasDialog from './BusinessCanvasDialog';\nimport html2canvas from 'html2canvas';\nimport { jsPDF } from 'jspdf';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BusinessCanvas = ({\n  initiativ,\n  onClose\n}) => {\n  _s();\n  // Standard seksjoner for forretningskanvas\n  const [sections, setSections] = useState([{\n    id: 'problem',\n    title: 'PROBLEM',\n    content: initiativ.beskrivelse || 'Skatteetaten har betydelige utfordringer knyttet til forsvarlig arkivering av arkiv- og journalpliktig dokumentasjon fra e-postklinter og digitale samhandlingsløsninger.',\n    color: 'bg-green-100'\n  }, {\n    id: 'mulighetsrom',\n    title: 'MULIGHETSROM',\n    content: 'Internt:\\n• Effektivisere drift og forvaltning av Skatteetaten\\n• Tilby brukerne nye tjenester basert på tilgjengelig informasjon fra Skatteetaten\\n\\nEksternt:\\n• Endre premisser for arkivering og journalføring i offentlig forvaltning',\n    color: 'bg-blue-100'\n  }, {\n    id: 'verdiloeft',\n    title: 'VERDILØFT',\n    content: '• Den enkelte ansatte vil få hjelp til arkivering og journalføring av dokumentasjon fra e-postklinter og digitale samhandlingsløsninger i form av en automatisert beslutningsstøtte.\\n• Frigjøre kapasitet til bruk på kjerneoppgaver.\\n• Forbedre Skatteetatens brukertjenester / tilby nye tjenester på grunn av større informasjonsfangst.',\n    color: 'bg-purple-100'\n  }, {\n    id: 'avhengigheter',\n    title: 'AVHENGIGHETER I ETATEN',\n    content: '• Eksisterende systemportefølje i Skatteetaten samt etatens sky-strategi\\n• Krav og føringer knyttet til håndtering av personopplysninger\\n• Krav og føringer knyttet til offentlige anskaffelser',\n    color: 'bg-yellow-100'\n  }, {\n    id: 'brukergruppe',\n    title: 'BRUKERGRUPPE',\n    content: 'Tiltenkt brukergruppe:\\n• Alle ansatte i Skatteetaten\\n• Andre offentlige etater\\n• Arkivmiljøet i Norge\\n• Borgere/skatteytere\\n• Andre offentlige/private virksomheter',\n    color: 'bg-red-100'\n  }, {\n    id: 'ressurser',\n    title: 'RESSURSER/KOMPETANSE',\n    content: '• Fagkompetanse AI, maskinlæring, NLP\\n• Fagkompetanse dokumentasjons-forvaltning\\n• Juridisk kompetanse (personvern)\\n• Forretningsutvikling\\n• IT utvikling\\n• Fagkompetanse offentl. anskaffelse\\n• Fagkompetanse informasjonssikkerhet',\n    color: 'bg-indigo-100'\n  }, {\n    id: 'kanaler',\n    title: 'KANALER',\n    content: '• E-postklient / digitale samhandlingsløsninger (Outlook, SharePoint, Teams m.fl.)\\n• Øvrige mottakskanaler (Kundelogg m.fl.)\\n• Arkivsystemer (Elements / Saksmappe m.fl.)\\n• Nasjonale felleskomponenter (eInnsyn)',\n    color: 'bg-pink-100'\n  }, {\n    id: 'kostnadsstruktur',\n    title: 'KOSTNADSSTRUKTUR',\n    content: '• Bygge/utvikle/teste egen språkmodell\\n• Utvikle grensesnitt mot arkivsystem(er)\\n• Teste/anskaffe/drifte eksisterende løsning, inkl. lisensiering mm.\\n• Tjenestedesign\\n• Kompetansebygging',\n    color: 'bg-gray-100'\n  }, {\n    id: 'strategiske',\n    title: 'STRATEGISKE AMBISJONER',\n    content: 'Strategisk ambisjon 3: Forvalte e-post/dokumenter på ulike plattformer på en effektiv måte, slik at det bidrar til forenkling og digitalisering\\n\\nStrategisk ambisjon 4: Sammen fra start på tvers av ulike fagmiljøer for alle ansatte i Skatteetaten\\n\\nStrategisk ambisjon 5: Bruke data, analyse og maskinlæring i stor skala i oppgaveløsningen',\n    color: 'bg-teal-100'\n  }, {\n    id: 'gevinster',\n    title: 'GEVINSTER',\n    content: 'Gevinst 1: Sikre økt etterlevelse av regelverkskrav innen arkivering, personvern og informasjonssikkerhet\\nGevinst 2: Effektivisere og forbedre arkiveringsprosesser\\nGevinst 3: Frigjøre kapasitet til bruk på kjerneoppgaver\\nGevinst 4: Redusere risiko for avvik og hendelser\\nGevinst 5: Tilby forbedrede/nye brukertjenester',\n    color: 'bg-green-100'\n  }]);\n  const [redigererSeksjon, setRedigererSeksjon] = useState(null);\n  const [redigertInnhold, setRedigertInnhold] = useState('');\n  const [viserDialog, setViserDialog] = useState(false);\n  const canvasRef = useRef(null);\n  const [eksporterer, setEksporterer] = useState(false);\n  const startRedigering = (seksjonId, innhold) => {\n    setRedigererSeksjon(seksjonId);\n    setRedigertInnhold(innhold);\n  };\n  const lagreEndringer = () => {\n    if (!redigererSeksjon) return;\n    setSections(sections.map(section => section.id === redigererSeksjon ? {\n      ...section,\n      content: redigertInnhold\n    } : section));\n    setRedigererSeksjon(null);\n  };\n  const avbrytRedigering = () => {\n    setRedigererSeksjon(null);\n  };\n  const handleDialogComplete = answers => {\n    // Oppdater seksjonene med svarene fra dialogen\n    const oppdaterteSeksjoner = sections.map(section => {\n      if (answers[section.id]) {\n        return {\n          ...section,\n          content: answers[section.id]\n        };\n      }\n      return section;\n    });\n    setSections(oppdaterteSeksjoner);\n    setViserDialog(false);\n  };\n  const eksporterSomPDF = async () => {\n    if (!canvasRef.current) return;\n    try {\n      setEksporterer(true);\n      const canvas = await html2canvas(canvasRef.current, {\n        scale: 2,\n        logging: false,\n        useCORS: true\n      });\n      const imgData = canvas.toDataURL('image/png');\n      const pdf = new jsPDF({\n        orientation: 'landscape',\n        unit: 'mm',\n        format: 'a4'\n      });\n      const imgProps = pdf.getImageProperties(imgData);\n      const pdfWidth = pdf.internal.pageSize.getWidth();\n      const pdfHeight = imgProps.height * pdfWidth / imgProps.width;\n      pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);\n      pdf.save(`Forretningskanvas_${initiativ.tittel || 'Initiativ'}.pdf`);\n    } catch (error) {\n      console.error('Feil ved eksport til PDF:', error);\n      alert('Det oppstod en feil ved eksport til PDF. Vennligst prøv igjen senere.');\n    } finally {\n      setEksporterer(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-50 rounded-lg p-4 w-full\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-800\",\n              children: [\"Forretningsmodell \\u2013 \", initiativ.tittel || 'SKAI (Skatteetatens arkiveringsassistent)']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Hva SKAL VI OPPN\\xC5?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex ml-4 space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setViserDialog(true),\n              className: \"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded\",\n              children: \"Generer med dialog\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: eksporterSomPDF,\n              disabled: eksporterer,\n              className: \"bg-purple-500 hover:bg-purple-600 text-white font-semibold py-2 px-4 rounded\",\n              children: eksporterer ? 'Eksporterer...' : 'Eksporter som PDF'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onClose,\n              className: \"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded\",\n              children: \"Lukk\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: canvasRef,\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n          children: sections.map(section => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${section.color} p-4 rounded-lg shadow ${section.id === 'problem' || section.id === 'strategiske' || section.id === 'kostnadsstruktur' ? 'md:col-span-3' : 'md:col-span-1'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-semibold\",\n                children: section.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => startRedigering(section.id, section.content),\n                className: \"text-blue-500 hover:text-blue-700\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  className: \"h-5 w-5\",\n                  viewBox: \"0 0 20 20\",\n                  fill: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this), redigererSeksjon === section.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: redigertInnhold,\n                onChange: e => setRedigertInnhold(e.target.value),\n                className: \"w-full h-40 p-2 border rounded mb-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-end space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: lagreEndringer,\n                  className: \"bg-green-500 text-white px-3 py-1 rounded\",\n                  children: \"Lagre\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: avbrytRedigering,\n                  className: \"bg-gray-300 text-gray-700 px-3 py-1 rounded\",\n                  children: \"Avbryt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"whitespace-pre-line text-sm\",\n              children: section.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 19\n            }, this)]\n          }, section.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), viserDialog && /*#__PURE__*/_jsxDEV(BusinessCanvasDialog, {\n      initiativ: initiativ,\n      onComplete: handleDialogComplete,\n      onCancel: () => setViserDialog(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 5\n  }, this);\n};\n_s(BusinessCanvas, \"5SVEGQA7bhVkjvhjWkGLgkgOyBA=\");\n_c = BusinessCanvas;\nexport default BusinessCanvas;\nvar _c;\n$RefreshReg$(_c, \"BusinessCanvas\");","map":{"version":3,"names":["React","useState","useRef","BusinessCanvasDialog","html2canvas","jsPDF","jsxDEV","_jsxDEV","BusinessCanvas","initiativ","onClose","_s","sections","setSections","id","title","content","beskrivelse","color","redigererSeksjon","setRedigererSeksjon","redigertInnhold","setRedigertInnhold","viserDialog","setViserDialog","canvasRef","eksporterer","setEksporterer","startRedigering","seksjonId","innhold","lagreEndringer","map","section","avbrytRedigering","handleDialogComplete","answers","oppdaterteSeksjoner","eksporterSomPDF","current","canvas","scale","logging","useCORS","imgData","toDataURL","pdf","orientation","unit","format","imgProps","getImageProperties","pdfWidth","internal","pageSize","getWidth","pdfHeight","height","width","addImage","save","tittel","error","console","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","ref","xmlns","viewBox","fill","d","value","onChange","e","target","onComplete","onCancel","_c","$RefreshReg$"],"sources":["/Users/trygverefvem/kioversikt/frontend/src/components/BusinessCanvas.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport BusinessCanvasDialog from './BusinessCanvasDialog';\nimport html2canvas from 'html2canvas';\nimport { jsPDF } from 'jspdf';\n\ninterface BusinessCanvasProps {\n  initiativ: any;\n  onClose: () => void;\n}\n\ninterface CanvasSection {\n  id: string;\n  title: string;\n  content: string;\n  color: string;\n}\n\nconst BusinessCanvas: React.FC<BusinessCanvasProps> = ({ initiativ, onClose }) => {\n  // Standard seksjoner for forretningskanvas\n  const [sections, setSections] = useState<CanvasSection[]>([\n    {\n      id: 'problem',\n      title: 'PROBLEM',\n      content: initiativ.beskrivelse || 'Skatteetaten har betydelige utfordringer knyttet til forsvarlig arkivering av arkiv- og journalpliktig dokumentasjon fra e-postklinter og digitale samhandlingsløsninger.',\n      color: 'bg-green-100'\n    },\n    {\n      id: 'mulighetsrom',\n      title: 'MULIGHETSROM',\n      content: 'Internt:\\n• Effektivisere drift og forvaltning av Skatteetaten\\n• Tilby brukerne nye tjenester basert på tilgjengelig informasjon fra Skatteetaten\\n\\nEksternt:\\n• Endre premisser for arkivering og journalføring i offentlig forvaltning',\n      color: 'bg-blue-100'\n    },\n    {\n      id: 'verdiloeft',\n      title: 'VERDILØFT',\n      content: '• Den enkelte ansatte vil få hjelp til arkivering og journalføring av dokumentasjon fra e-postklinter og digitale samhandlingsløsninger i form av en automatisert beslutningsstøtte.\\n• Frigjøre kapasitet til bruk på kjerneoppgaver.\\n• Forbedre Skatteetatens brukertjenester / tilby nye tjenester på grunn av større informasjonsfangst.',\n      color: 'bg-purple-100'\n    },\n    {\n      id: 'avhengigheter',\n      title: 'AVHENGIGHETER I ETATEN',\n      content: '• Eksisterende systemportefølje i Skatteetaten samt etatens sky-strategi\\n• Krav og føringer knyttet til håndtering av personopplysninger\\n• Krav og føringer knyttet til offentlige anskaffelser',\n      color: 'bg-yellow-100'\n    },\n    {\n      id: 'brukergruppe',\n      title: 'BRUKERGRUPPE',\n      content: 'Tiltenkt brukergruppe:\\n• Alle ansatte i Skatteetaten\\n• Andre offentlige etater\\n• Arkivmiljøet i Norge\\n• Borgere/skatteytere\\n• Andre offentlige/private virksomheter',\n      color: 'bg-red-100'\n    },\n    {\n      id: 'ressurser',\n      title: 'RESSURSER/KOMPETANSE',\n      content: '• Fagkompetanse AI, maskinlæring, NLP\\n• Fagkompetanse dokumentasjons-forvaltning\\n• Juridisk kompetanse (personvern)\\n• Forretningsutvikling\\n• IT utvikling\\n• Fagkompetanse offentl. anskaffelse\\n• Fagkompetanse informasjonssikkerhet',\n      color: 'bg-indigo-100'\n    },\n    {\n      id: 'kanaler',\n      title: 'KANALER',\n      content: '• E-postklient / digitale samhandlingsløsninger (Outlook, SharePoint, Teams m.fl.)\\n• Øvrige mottakskanaler (Kundelogg m.fl.)\\n• Arkivsystemer (Elements / Saksmappe m.fl.)\\n• Nasjonale felleskomponenter (eInnsyn)',\n      color: 'bg-pink-100'\n    },\n    {\n      id: 'kostnadsstruktur',\n      title: 'KOSTNADSSTRUKTUR',\n      content: '• Bygge/utvikle/teste egen språkmodell\\n• Utvikle grensesnitt mot arkivsystem(er)\\n• Teste/anskaffe/drifte eksisterende løsning, inkl. lisensiering mm.\\n• Tjenestedesign\\n• Kompetansebygging',\n      color: 'bg-gray-100'\n    },\n    {\n      id: 'strategiske',\n      title: 'STRATEGISKE AMBISJONER',\n      content: 'Strategisk ambisjon 3: Forvalte e-post/dokumenter på ulike plattformer på en effektiv måte, slik at det bidrar til forenkling og digitalisering\\n\\nStrategisk ambisjon 4: Sammen fra start på tvers av ulike fagmiljøer for alle ansatte i Skatteetaten\\n\\nStrategisk ambisjon 5: Bruke data, analyse og maskinlæring i stor skala i oppgaveløsningen',\n      color: 'bg-teal-100'\n    },\n    {\n      id: 'gevinster',\n      title: 'GEVINSTER',\n      content: 'Gevinst 1: Sikre økt etterlevelse av regelverkskrav innen arkivering, personvern og informasjonssikkerhet\\nGevinst 2: Effektivisere og forbedre arkiveringsprosesser\\nGevinst 3: Frigjøre kapasitet til bruk på kjerneoppgaver\\nGevinst 4: Redusere risiko for avvik og hendelser\\nGevinst 5: Tilby forbedrede/nye brukertjenester',\n      color: 'bg-green-100'\n    }\n  ]);\n\n  const [redigererSeksjon, setRedigererSeksjon] = useState<string | null>(null);\n  const [redigertInnhold, setRedigertInnhold] = useState<string>('');\n  const [viserDialog, setViserDialog] = useState<boolean>(false);\n\n  const canvasRef = useRef<HTMLDivElement>(null);\n  const [eksporterer, setEksporterer] = useState<boolean>(false);\n\n  const startRedigering = (seksjonId: string, innhold: string) => {\n    setRedigererSeksjon(seksjonId);\n    setRedigertInnhold(innhold);\n  };\n\n  const lagreEndringer = () => {\n    if (!redigererSeksjon) return;\n    \n    setSections(sections.map(section => \n      section.id === redigererSeksjon \n        ? { ...section, content: redigertInnhold } \n        : section\n    ));\n    \n    setRedigererSeksjon(null);\n  };\n\n  const avbrytRedigering = () => {\n    setRedigererSeksjon(null);\n  };\n\n  const handleDialogComplete = (answers: Record<string, string>) => {\n    // Oppdater seksjonene med svarene fra dialogen\n    const oppdaterteSeksjoner = sections.map(section => {\n      if (answers[section.id]) {\n        return {\n          ...section,\n          content: answers[section.id]\n        };\n      }\n      return section;\n    });\n    \n    setSections(oppdaterteSeksjoner);\n    setViserDialog(false);\n  };\n\n  const eksporterSomPDF = async () => {\n    if (!canvasRef.current) return;\n    \n    try {\n      setEksporterer(true);\n      \n      const canvas = await html2canvas(canvasRef.current, {\n        scale: 2,\n        logging: false,\n        useCORS: true\n      });\n      \n      const imgData = canvas.toDataURL('image/png');\n      const pdf = new jsPDF({\n        orientation: 'landscape',\n        unit: 'mm',\n        format: 'a4'\n      });\n      \n      const imgProps = pdf.getImageProperties(imgData);\n      const pdfWidth = pdf.internal.pageSize.getWidth();\n      const pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;\n      \n      pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);\n      pdf.save(`Forretningskanvas_${initiativ.tittel || 'Initiativ'}.pdf`);\n    } catch (error) {\n      console.error('Feil ved eksport til PDF:', error);\n      alert('Det oppstod en feil ved eksport til PDF. Vennligst prøv igjen senere.');\n    } finally {\n      setEksporterer(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-auto\">\n        <div className=\"p-6\">\n          <div className=\"flex justify-between items-center mb-6\">\n            <div className=\"bg-green-50 rounded-lg p-4 w-full\">\n              <h1 className=\"text-2xl font-bold text-gray-800\">\n                Forretningsmodell – {initiativ.tittel || 'SKAI (Skatteetatens arkiveringsassistent)'}\n              </h1>\n              <p className=\"text-sm text-gray-500\">Hva SKAL VI OPPNÅ?</p>\n            </div>\n            <div className=\"flex ml-4 space-x-2\">\n              <button \n                onClick={() => setViserDialog(true)}\n                className=\"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded\"\n              >\n                Generer med dialog\n              </button>\n              <button \n                onClick={eksporterSomPDF}\n                disabled={eksporterer}\n                className=\"bg-purple-500 hover:bg-purple-600 text-white font-semibold py-2 px-4 rounded\"\n              >\n                {eksporterer ? 'Eksporterer...' : 'Eksporter som PDF'}\n              </button>\n              <button \n                onClick={onClose}\n                className=\"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded\"\n              >\n                Lukk\n              </button>\n            </div>\n          </div>\n\n          <div ref={canvasRef} className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            {sections.map((section) => (\n              <div \n                key={section.id} \n                className={`${section.color} p-4 rounded-lg shadow ${\n                  section.id === 'problem' || section.id === 'strategiske' || section.id === 'kostnadsstruktur' \n                    ? 'md:col-span-3' \n                    : 'md:col-span-1'\n                }`}\n              >\n                <div className=\"flex justify-between items-center mb-2\">\n                  <h2 className=\"text-lg font-semibold\">{section.title}</h2>\n                  <button \n                    onClick={() => startRedigering(section.id, section.content)}\n                    className=\"text-blue-500 hover:text-blue-700\"\n                  >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                      <path d=\"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\" />\n                    </svg>\n                  </button>\n                </div>\n                \n                {redigererSeksjon === section.id ? (\n                  <div>\n                    <textarea\n                      value={redigertInnhold}\n                      onChange={(e) => setRedigertInnhold(e.target.value)}\n                      className=\"w-full h-40 p-2 border rounded mb-2\"\n                    />\n                    <div className=\"flex justify-end space-x-2\">\n                      <button \n                        onClick={lagreEndringer}\n                        className=\"bg-green-500 text-white px-3 py-1 rounded\"\n                      >\n                        Lagre\n                      </button>\n                      <button \n                        onClick={avbrytRedigering}\n                        className=\"bg-gray-300 text-gray-700 px-3 py-1 rounded\"\n                      >\n                        Avbryt\n                      </button>\n                    </div>\n                  </div>\n                ) : (\n                  <div className=\"whitespace-pre-line text-sm\">{section.content}</div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {viserDialog && (\n        <BusinessCanvasDialog \n          initiativ={initiativ}\n          onComplete={handleDialogComplete}\n          onCancel={() => setViserDialog(false)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default BusinessCanvas; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}