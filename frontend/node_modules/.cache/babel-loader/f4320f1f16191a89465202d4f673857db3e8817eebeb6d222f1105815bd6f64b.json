{"ast":null,"code":"var _jsxFileName = \"/Users/trygverefvem/kioversikt/frontend/src/pages/Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport InitiativKort from '../components/InitiativKort';\nimport StatusFilter from '../components/StatusFilter';\nimport ExcelImport from '../components/ExcelImport';\nimport { hentAlleInitiativer } from '../services/initiativService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [initiativer, setInitiativer] = useState([]);\n  const [filtrerteInitiativer, setFiltrerteInitiativer] = useState([]);\n  const [laster, setLaster] = useState(true);\n  const [feil, setFeil] = useState(null);\n  const [aktivFilter, setAktivFilter] = useState('Alle');\n  const [visImport, setVisImport] = useState(false);\n  const lastInitiativer = async () => {\n    try {\n      setLaster(true);\n      const data = await hentAlleInitiativer();\n      setInitiativer(data);\n      setFiltrerteInitiativer(data);\n      setLaster(false);\n    } catch (error) {\n      setFeil('Kunne ikke laste initiativer. Vennligst prøv igjen senere.');\n      setLaster(false);\n    }\n  };\n  useEffect(() => {\n    lastInitiativer();\n  }, []);\n  useEffect(() => {\n    if (aktivFilter === 'Alle') {\n      setFiltrerteInitiativer(initiativer);\n    } else {\n      setFiltrerteInitiativer(initiativer.filter(initiativ => initiativ.status === aktivFilter));\n    }\n  }, [aktivFilter, initiativer]);\n  const handleFilterChange = filter => {\n    setAktivFilter(filter);\n  };\n  const toggleImport = () => {\n    setVisImport(!visImport);\n  };\n  const handleImportSuccess = () => {\n    // Last inn initiativer på nytt etter vellykket import\n    lastInitiativer();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-gray-900\",\n        children: \"KI-Initiativer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleImport,\n          className: \"btn btn-secondary\",\n          children: visImport ? 'Skjul import' : 'Importer fra Excel'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/initiativer/ny\",\n          className: \"btn btn-primary\",\n          children: \"Nytt Initiativ\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), visImport && /*#__PURE__*/_jsxDEV(ExcelImport, {\n      onImportSuccess: handleImportSuccess\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(StatusFilter, {\n      aktivFilter: aktivFilter,\n      onFilterChange: handleFilterChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), laster ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inline-block animate-spin rounded-full h-8 w-8 border-4 border-primary-500 border-t-transparent\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-2 text-gray-600\",\n        children: \"Laster initiativer...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this) : feil ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md\",\n      children: feil\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this) : filtrerteInitiativer.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Ingen initiativer funnet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 flex flex-col sm:flex-row justify-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleImport,\n          className: \"btn btn-secondary\",\n          children: \"Importer fra Excel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/initiativer/ny\",\n          className: \"btn btn-primary inline-block\",\n          children: \"Opprett ditt f\\xF8rste initiativ\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n      children: filtrerteInitiativer.map(initiativ => /*#__PURE__*/_jsxDEV(InitiativKort, {\n        initiativ: initiativ\n      }, initiativ._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"OGdvg/3sALzU4YVlzANFPNt8ydI=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","Link","InitiativKort","StatusFilter","ExcelImport","hentAlleInitiativer","jsxDEV","_jsxDEV","Dashboard","_s","initiativer","setInitiativer","filtrerteInitiativer","setFiltrerteInitiativer","laster","setLaster","feil","setFeil","aktivFilter","setAktivFilter","visImport","setVisImport","lastInitiativer","data","error","filter","initiativ","status","handleFilterChange","toggleImport","handleImportSuccess","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","to","onImportSuccess","onFilterChange","length","map","_id","_c","$RefreshReg$"],"sources":["/Users/trygverefvem/kioversikt/frontend/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport InitiativKort from '../components/InitiativKort';\nimport StatusFilter from '../components/StatusFilter';\nimport ExcelImport from '../components/ExcelImport';\nimport { hentAlleInitiativer } from '../services/initiativService';\n\ninterface Initiativ {\n  _id: string;\n  initiativId: string;\n  tittel: string;\n  beskrivelse: string;\n  status: string;\n  ansvarlig: string;\n  prioritet: string;\n  startDato: string;\n  sluttDato?: string;\n}\n\nconst Dashboard: React.FC = () => {\n  const [initiativer, setInitiativer] = useState<Initiativ[]>([]);\n  const [filtrerteInitiativer, setFiltrerteInitiativer] = useState<Initiativ[]>([]);\n  const [laster, setLaster] = useState<boolean>(true);\n  const [feil, setFeil] = useState<string | null>(null);\n  const [aktivFilter, setAktivFilter] = useState<string>('Alle');\n  const [visImport, setVisImport] = useState<boolean>(false);\n\n  const lastInitiativer = async () => {\n    try {\n      setLaster(true);\n      const data = await hentAlleInitiativer();\n      setInitiativer(data);\n      setFiltrerteInitiativer(data);\n      setLaster(false);\n    } catch (error) {\n      setFeil('Kunne ikke laste initiativer. Vennligst prøv igjen senere.');\n      setLaster(false);\n    }\n  };\n\n  useEffect(() => {\n    lastInitiativer();\n  }, []);\n\n  useEffect(() => {\n    if (aktivFilter === 'Alle') {\n      setFiltrerteInitiativer(initiativer);\n    } else {\n      setFiltrerteInitiativer(\n        initiativer.filter((initiativ) => initiativ.status === aktivFilter)\n      );\n    }\n  }, [aktivFilter, initiativer]);\n\n  const handleFilterChange = (filter: string) => {\n    setAktivFilter(filter);\n  };\n\n  const toggleImport = () => {\n    setVisImport(!visImport);\n  };\n\n  const handleImportSuccess = () => {\n    // Last inn initiativer på nytt etter vellykket import\n    lastInitiativer();\n  };\n\n  return (\n    <div>\n      <div className=\"mb-6 flex justify-between items-center\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">KI-Initiativer</h1>\n        <div className=\"flex space-x-3\">\n          <button \n            onClick={toggleImport} \n            className=\"btn btn-secondary\"\n          >\n            {visImport ? 'Skjul import' : 'Importer fra Excel'}\n          </button>\n          <Link to=\"/initiativer/ny\" className=\"btn btn-primary\">\n            Nytt Initiativ\n          </Link>\n        </div>\n      </div>\n\n      {visImport && (\n        <ExcelImport onImportSuccess={handleImportSuccess} />\n      )}\n\n      <StatusFilter aktivFilter={aktivFilter} onFilterChange={handleFilterChange} />\n\n      {laster ? (\n        <div className=\"text-center py-10\">\n          <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-4 border-primary-500 border-t-transparent\"></div>\n          <p className=\"mt-2 text-gray-600\">Laster initiativer...</p>\n        </div>\n      ) : feil ? (\n        <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md\">\n          {feil}\n        </div>\n      ) : filtrerteInitiativer.length === 0 ? (\n        <div className=\"text-center py-10\">\n          <p className=\"text-gray-600\">Ingen initiativer funnet.</p>\n          <div className=\"mt-4 flex flex-col sm:flex-row justify-center gap-3\">\n            <button onClick={toggleImport} className=\"btn btn-secondary\">\n              Importer fra Excel\n            </button>\n            <Link to=\"/initiativer/ny\" className=\"btn btn-primary inline-block\">\n              Opprett ditt første initiativ\n            </Link>\n          </div>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filtrerteInitiativer.map((initiativ) => (\n            <InitiativKort key={initiativ._id} initiativ={initiativ} />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}